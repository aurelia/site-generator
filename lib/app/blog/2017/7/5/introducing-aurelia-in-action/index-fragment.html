<section class="article blog">
  <header>
    <h1>Introducing Aurelia in Action</h1>
    <h2>Posted by AureliaEffect on July 13, 2017</h2>
  </header>

  <article class="markdown">
    <p>
<a href="https://www.manning.com/books/aurelia-in-action" target="_blank">Aurelia in Action</a>
 is a book targeted at teaching you what you need to build compelling, real-world applications in Aurelia from the ground up. The book centres around a fictional virtual bookshelf application (similar to 
<a href="https://www.goodreads.com/" target="_blank">Goodreads.com</a>
) called my-books. We start off by creating a bare-bones application via the Aurelia CLI, then progressively layer on various features that users would want in a virtual bookshelf. By the end of the book we've built out a fully fledged SPA, giving you the chance to familiarise yourself with the many tools available in Aurelia's tool-belt along the way. Save 45% off 
<a href="https://www.manning.com/books/aurelia-in-action" target="_blank">Aurelia in Action</a>
 with discount code <code>aureliash</code> at 
<a href="https://www.manning.com/" target="_blank">Manning.com</a>
 today!</p>
<p>Some of areas covered include:</p>
<ul>
<li>Binding</li>
<li>Templating</li>
<li>Custom attributes</li>
<li>Custom elements</li>
<li>Value converters</li>
<li>Binding behaviours</li>
<li>Working with HTTP</li>
<li>Routing</li>
<li>Working with forms</li>
<li>Inter-component communication patterns</li>
<li>Deployment</li>
</ul>
<p>In this blog post we'll take a sneak peek at some of the topics covered in Chapter 7 - Working with Forms.</p>
<h1>Working with Forms in Aurelia</h1>
<p>Forms are one of the primary ways that users interact with your website. Well-implemented forms make users happy. Conversely, poorly implemented forms can slow down or stop user's activity on your site. You can address two of the main aspects of well-built  forms using Aurelia’s data-binding and validation components. Data-binding can be used to provide rapid feedback, guiding the user on the correct form journey by making their next action obvious. Validation can be used to show users the feedback they need to submit the form in a way that’s unobtrusive and avoids breaking user flow.</p>
<p>One of the pages in the my-books application provides users with the ability to add new books to their bookshelf. In this blog post we'll look at how to add form validation with 
<a href="https://v4-alpha.getbootstrap.com/" target="_blank">Bootstrap 4</a>
 and the 
<a href="https://github.com/aurelia/validation" target="_blank">aurelia-validation</a>
 plugin to ensure that users provide valid values for the book title, and times-read input fields. You can see a screenshot of this form below:
<img src="https://sean-hunter.io/wp-content/uploads/2017/07/Figure_1.1.png" alt="my-books form " /></p>
<p>Feel free to have a poke around with the source code and check out the running application on GistRun https://gist.run/?id=c9c19fbe1e147fc39ac864cf0b694fd1.</p>
<h1>Validation</h1>
<p>The Aurelia validation plugin allows you to apply validation to view-model fields bound to input elements in the view. It’s built with the Aurelia architecture in mind, and because of this, it fits hand in glove with Aurelia’s binding and templating engine. There are many validation libraries out there, and if you have a favorite library, it’s easy enough to wire it in. The advantage you get with the Aurelia validation plugin is its ease of use within the Aurelia framework. We'll only be able to scratch the surface of what the validation plugin has to offer here. If you are interested in reading more you can check out Jeremy Danyow's great in-depth article on the 
<a href="http://aurelia.io/hub.html#/doc/article/aurelia/validation/latest/validation-basics/5" target="_blank">Aurelia Hub</a>
.</p>
<p>To implement validation in our form we'll need five main components:</p>
<ol>
<li>The <strong>validation controller</strong> to orchestrate the entire process</li>
<li>A <strong>view-model</strong> to validate</li>
<li>Some <strong>validation rules</strong> that will be applied to the title, times-read view-model properties</li>
<li>A <strong>validation renderer</strong> to render the results to the view</li>
<li>A <strong>view</strong> to trigger validation and display results</li>
</ol>
<section><h2 id="validation-controller">Validation Controller</h2><p>The <code>ValidationController</code> is a component of the Aurelia validation plugin. Each view-model that requires validation has one or more mapped validation controllers. Validation controllers are orchestrators, responsible for receiving validation triggers (such as an input change or blur event) and responding to these triggers by applying the relevant validation feedback to the view via a validation renderer.</p>
<p>The add-book page consists of a main component <code>edit-book</code> which sits as a custom element inside the main <code>app</code> component. The first step to adding validation to this form is to inject a new <code>ValidationController</code> instance using the <code>NewInstance</code> class. The <code>NewInstance</code> resolver allows us to inject an instance specific to this view-model, overriding the default dependency injection behavior of singleton within a container.</p>
</section>
<section><h2 id="validation-renderer">Validation Renderer</h2><p>Because we want to render the validation results using Bootstrap styles, the next step is to implement a validation renderer which you can see in this 
<a href="https://gist.github.com/freshcutdevelopment/c9c19fbe1e147fc39ac864cf0b694fd1#file-bootstrap-form-renderer-js" target="_blank">Gist</a>
. The validation renderer is a component of the Aurelia validation plugin that is responsible for rendering validation results to the view. The plugin provides an implementation of this component out of the box, the <code>validation-errors</code> attribute. This custom attribute can be applied to an element and makes all validation errors associated with the element available to both the element and its decedents.</p>
<p>You can then use markup in the view to display validation results to users. Alternatively, you can implement your own custom validation renderer (as we do in this case). This is useful if you want to avoid muddying the view markup with validation display code and when you have a specific style that should be applied. For example, you can implement a Bootstrap validation renderer to show validation results in a Bootstrap style, or a 
<a href="http://materializecss.com/" target="_blank">Materialize</a>
 validation renderer to show validation results in a material design style, and so on. This is my preferred approach to validation, because it keeps the validation display code separated from the main view. With the validation renderer created we need to register it with the validation controller <code>this.controller.addRenderer(new BootstrapFormRenderer())</code>.</p>
</section>
<section><h2 id="validation-rules">Validation Rules</h2><p>Validation rules allow you to apply various constraints to view-model properties. They can be applied either to simple values (such as a string), or to an entire object. Several built-in validation rules come along with the Aurelia framework. In this case we'll use a combination of 3 validation rules to validate two input fields:</p>
<ul>
<li><strong>title</strong> : Required validation rule.</li>
<li><strong>timesRead</strong> : Required validation rule, and custom validation rule to ensure that the user specifies a number which is either 0, or a positive integer. The validation rules will be applied as follows:</li>
</ul>
<code-listing>
  <source-code lang="JavaScript"><pre class="language-javascript"><code>
    ValidationRules
      <span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//ensure title provided</span>
      <span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span><span class="token string">'timesRead'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//ensure user specifies a value for times-read</span>
      <span class="token punctuation">.</span><span class="token function">satisfiesRule</span><span class="token punctuation">(</span><span class="token string">'positiveInteger'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//validate the positiveInteger custom rule</span>
      <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//apply validation rules to the current view-model</span>
  </code></pre></source-code>
</code-listing>
</section>
<section><h2 id="executing-the-validation">Executing the Validation</h2><p>With the plumbing of the validation controller, validation renderer, and validation rules in place, the last step is to configure triggers for when we want to execute the validation rules. While we're on the subject of the view-model, we'll add a validation trigger to execute the validation rules on form submit, and only raise an <code>added</code> notification if the validation results return successfully using the validation controller's <code>validate</code> method. This method returns a promise to allow to also handle the case where the validation may take some time (for example a server side validation over HTTP):</p>
<code-listing>
  <source-code lang="JavaScript"><pre class="language-javascript"><code>
     <span class="token function">addBook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>controller<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>valid<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>eventAggregator<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'book-added'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
         <span class="token comment" spellcheck="true">//publish the book-added event only when the edit-book form is valid.</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  </code></pre></source-code>
</code-listing>
<p>Putting this all together, the <code>edit-book</code> view-model looks like this. There are some elements of this code sample that we won't cover here, but stay tuned as these aspects will be covered in Chapter 7 of Aurelia in Action.</p>
<code-listing>
  <source-code lang="JavaScript"><pre class="language-javascript"><code>
    <span class="token keyword">import</span> <span class="token punctuation">{</span>inject<span class="token punctuation">,</span>NewInstance<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//import the new instance class</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span>EventAggregator<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-event-aggregator'</span><span class="token punctuation">;</span> 
    <span class="token keyword">import</span> <span class="token punctuation">{</span>BooksApi<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'books-api'</span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span>BootstrapFormRenderer<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'bootstrap-form-renderer'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//import the validation renderer</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span>ValidationRules<span class="token punctuation">,</span> ValidationController<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-validation'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//import the validation rules and controller</span>
    
    @<span class="token function">inject</span><span class="token punctuation">(</span>EventAggregator<span class="token punctuation">,</span> BooksApi<span class="token punctuation">,</span> NewInstance<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span>ValidationController<span class="token punctuation">)</span><span class="token punctuation">)</span> 
    <span class="token comment" spellcheck="true">//inject a new instance of the validation controller</span>
    <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">BookForm</span> <span class="token punctuation">{</span>
      <span class="token function">constructor</span><span class="token punctuation">(</span>eventAggregator<span class="token punctuation">,</span> bookApi<span class="token punctuation">,</span> controller<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>eventAggregator <span class="token operator">=</span> eventAggregator<span class="token punctuation">;</span> 
        <span class="token keyword">this</span><span class="token punctuation">.</span>bookApi <span class="token operator">=</span> bookApi<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>controller <span class="token operator">=</span> controller<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>controller<span class="token punctuation">.</span><span class="token function">addRenderer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BootstrapFormRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//configure the validation renderer</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">configureValidationRules</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//configure the validation rules</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createEventListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      
      <span class="token function">configureValidationRules</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          ValidationRules<span class="token punctuation">.</span><span class="token function">customRule</span><span class="token punctuation">(</span> <span class="token comment" spellcheck="true">//create the positiveInteger validation rule</span>
          <span class="token string">'positiveInteger'</span><span class="token punctuation">,</span>
          <span class="token punctuation">(</span>value<span class="token punctuation">,</span> obj<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> value <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> value <span class="token operator">===</span> undefined 
            <span class="token operator">||</span> <span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">||</span> value <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token template-string"><span class="token string">`Books can only be read 0 or more times.`</span></span> 
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
          
          ValidationRules
            <span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//ensure title provided</span>
            <span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span><span class="token string">'timesRead'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//ensure user specifies a value for times-read</span>
            <span class="token punctuation">.</span><span class="token function">satisfiesRule</span><span class="token punctuation">(</span><span class="token string">'positiveInteger'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//validate the positiveInteger custom rule</span>
            <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//apply validation rules to the current view-model</span>
      <span class="token punctuation">}</span>
      
      <span class="token function">addBook</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>controller<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//validate when a book is added</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>valid<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>eventAggregator<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'book-added'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      
      <span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>bookApi<span class="token punctuation">.</span><span class="token function">getGenres</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>genres <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>genres <span class="token operator">=</span> genres<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      
      <span class="token function">createEventListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>genreSelectedListener <span class="token operator">=</span>  e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>genre <span class="token operator">=</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value<span class="token punctuation">;</span>  
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    
        <span class="token keyword">this</span><span class="token punctuation">.</span>ratingChangedListener <span class="token operator">=</span>  e <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>rating <span class="token operator">=</span> e<span class="token punctuation">.</span>rating<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      
      <span class="token function">attached</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>selectGenreElement<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"change"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>genreSelectedListener <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>selectGenreElement<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"change"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ratingChangedListener <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      
      <span class="token function">detached</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>ratingElement<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ratingChangedListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>selectGenreElement<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>genreSelectedListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  </code></pre></source-code>
</code-listing>
</section>
<section><h2 id="the-validate-binding-behavior">The Validate Binding Behavior</h2><p>You can enroll view elements for validation using the <code>validate</code> binding behavior provided by the Aurelia validation plugin. For example, applying validation to an input element is a simple matter of <code>&lt;input value.bind=&quot;title &amp; validate&quot;&gt;</code>, which applies the validate binding behavior to the input value binding.</p>
<p>From there, the view can take as large a role as you want in the validation process. You can use either the <code>validation-errors</code> renderer, which means more validation markup in your view, or a custom validation renderer, which incurs little to no involvement from the view in deciding how the validation results should be displayed to the user.</p>
<p>With the view-model in place the last step is to wire up validation triggers in the view itself on the relevant input fields as shown in the following code listing.</p>
<code-listing>
  <source-code lang="HTML"><pre class="language-markup"><code>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>require</span> <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>typeahead<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>require</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>require</span> <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>star-rating<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>require</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form card<span class="token punctuation">"</span></span> <span class="token attr-name">submit.trigger</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>addBook()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card-block<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card-title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Add book <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fa fa-book<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h6</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card-subtitle mb-2 text-muted<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>add a book to your bookshelf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h6</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> 
                     <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>enter a title<span class="token punctuation">'</span></span> 
                     <span class="token attr-name">value.bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title &amp; validate<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input</span><span class="token punctuation">></span></span> 
                      validation trigger added to title input field 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>genre<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Genre<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">value.bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>genre<span class="token punctuation">"</span></span> 
                     <span class="token attr-name">typeahead</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>items.bind:genres<span class="token punctuation">"</span></span> 
                     <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> 
                     <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>genre<span class="token punctuation">"</span></span> 
                     <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span>
                     <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>selectGenreElement<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>times-read<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Times read<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span>times-read</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> 
                      <span class="token attr-name">value.bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>timesRead &amp; validate<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input</span><span class="token punctuation">></span></span> 
                       validation trigger added to times-read input field 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>star-rating</span> 
                  <span class="token attr-name">view-model.ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>starRatingViewModel<span class="token punctuation">"</span></span> 
                  <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ratingElement<span class="token punctuation">"</span></span> 
                  <span class="token attr-name">rating.bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rating<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>star-rating</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card-footer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-primary col-sm-3 push-sm-9<span class="token punctuation">"</span></span> 
                  <span class="token attr-name">disabled.bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title.length <span class="token punctuation">=</span><span class="token punctuation">=</span> 0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            add
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>  
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
  </code></pre></source-code>
</code-listing>
<p>This completes our implementation of Bootstrap 4 form validation in the edit-book form. You can see this in action and review the entire source code on 
<a href="https://gist.run/?id=c9c19fbe1e147fc39ac864cf0b694fd1" target="_blank">GistRun</a>
. There are many more goodies hidden away in this form. Check out the 
<a href="https://www.manning.com/books/aurelia-in-action" target="_blank">Aurelia in Action website</a>
 to read more. At the time of writing we are currently under the Early Access Program. You can download the first chapter free, and feedback via either the books forum or the  
<a href="https://github.com/freshcutdevelopment/Aurelia-in-Action" target="_blank">GitHub</a>
 repository is much appreciated.</p>
</section>

  </article>
</section>
